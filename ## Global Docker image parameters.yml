## Global Docker image parameters
# global:
#   imageRegistry: myRegistryName
#   imagePullSecrets:
#     - myRegistryKeySecretName

## Bitnami Redis image version
image:
  registry: docker.io
  repository: bitnami/redis
  tag: 5.0.5-debian-9-r36
  pullPolicy: IfNotPresent
  # pullSecrets:
  #   - myRegistryKeySecretName

## Cluster settings
cluster:
  enabled: true
  slaveCount: 3

## Use redis sentinel in the redis pod.
sentinel:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/redis-sentinel
    tag: 5.0.5-debian-9-r37
    pullPolicy: IfNotPresent
  masterSet: mymaster
  initialCheckTimeout: 5
  quorum: 2
  downAfterMilliseconds: 60000
  failoverTimeout: 18000
  parallelSyncs: 1
  port: 26379
  configmap:
  livenessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 5
    successThreshold: 1
    failureThreshold: 5
  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 5
  service:
    type: ClusterIP
    sentinelPort: 26379
    redisPort: 6379
    annotations: {}
    loadBalancerIP:

## Specifies the Kubernetes Cluster's Domain Name.
clusterDomain: cluster.local

networkPolicy:
  enabled: false

serviceAccount:
  create: false
  name:

rbac:
  create: false
  role:
    rules: []

securityContext:
  enabled: true
  fsGroup: 2000
  runAsUser: 1000

usePassword: true
password: password

usePasswordFile: false

persistence: {}
  existingClaim:
  storageClass: "manual"
  accessModes:
    - ReadWriteOnce
  size: 8Gi
  path: /data
  subPath: ""

redisPort: 6379

master:
  command:
    - "/run.sh"
  configmap:
  extraFlags: []
  disableCommands:
  - FLUSHDB
  - FLUSHALL
  podLabels: {}
  podAnnotations: {}
  livenessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 5
    successThreshold: 1
    failureThreshold: 5
  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 5
  affinity: {}
  service:
    type: NodePort
    port: 6660
    annotations: {}
    loadBalancerIP:
  persistence:
    enabled: true
    path: /data
    subPath: ""
    storageClass: "manual"
    accessModes:
    - ReadWriteOnce
    size: 8Gi
  statefulset:
    updateStrategy: RollingUpdate

slave:
  service:
    type: ClusterIP
    port: 6379
    annotations: {}
    loadBalancerIP:
  command:
    - "/run.sh"
  configmap:
  extraFlags: []
  disableCommands:
  - FLUSHDB
  - FLUSHALL
  affinity: {}
  livenessProbe:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    successThreshold: 1
    failureThreshold: 5
  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 10
    successThreshold: 1
    failureThreshold: 5
  podLabels: {}
  podAnnotations: {}
  persistence:
    enabled: true
    path: /data
    subPath: ""
    storageClass: "manual"
    accessModes:
    - ReadWriteOnce
    size: 8Gi
  statefulset:
    updateStrategy: RollingUpdate

metrics:
  enabled: false

volumePermissions:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/minideb
    tag: latest
    pullPolicy: Always
  resources: {}

configmap: |-
  appendonly "yes"
  save ""
  tcp-keepalive "0"

sysctlImage:
  enabled: true
  command:
    - /bin/sh
    - -c
    - |-
      install_packages systemd
      sysctl -w net.core.somaxconn=10000
      echo never > /host-sys/kernel/mm/transparent_hugepage/enabled
  registry: docker.io
  repository: bitnami/minideb
  tag: latest
  pullPolicy: Always
  mountHostSys: true
  resources: {}
